# Лабораторная работа: Использование планировщика задач cron
В этой лабораторной работе вы научитесь создавать cron-задания, которые автоматически выполняют скрипты. Мы настроим cron для мониторинга содержимого директории и фиксации изменений в лог-файле.
Для выполнения лабораторной работы вам понадобится установить cron:
```bash
sudo apt install cron
```

## Простое задание
Итак, перед выполнением задания:
1. Создайте тестовую директорию и лог-файл:
```bash
mkdir test_watch
touch test_watch.log
```

2. Создайте bash-скрипт ```log_directory.sh```:
```bash
#!/bin/bash
WATCH_DIR="/path/to/test_watch"    # Директория для отслеживания (впишите туда свой путь до директория)
LOG_FILE="/path/to/test_watch.log" # Файл для записи лога (впишите туда свой путь до файла)

echo "$(date): Current contents of $WATCH_DIR:" >> "$LOG_FILE"
ls -l --time-style=long-iso "$WATCH_DIR" >> "$LOG_FILE"
echo "--------------------------------------------" >> "$LOG_FILE"
```
Этот скрипт:
- Добавляет в лог-файл текущую дату и время.
- Сохраняет список файлов в директории ~/test_watch (с их размерами и датой изменения).
- Разделяет записи с помощью линии (--------------------------------------------).

3. Откройте редактор crontab:
```bash
crontab -e
```
и впишите туда следующую строку:
```bash
*/2 * * * * /bin/bash /home/ваш_пользователь/Desktop/ваш_директорий/log_directory.sh
```
Эта строка указывает, что скрипт ```log_directory.sh``` будет выполняться каждые 2 минуты

4. Проверьте результат:
```bash
cat test_watch.log
```
После выполнения предыдущих пунктов у вас должно вывести что-то подобное:
```sql
Fri Dec 25 14:02:00 2024: Current contents of /home/user/test_watch:
total 0
```

## Задание лабораторной работы
Настроить cron-задание для мониторинга добавления новых файлов в директорию ```test_watch```. Все новые файлы должны записываться в лог-файл ```file_changes.log```.

## Дополнительные источники
1. [Официальная документация cron](https://help.ubuntu.ru/wiki/cron)
2. [Настройка планировщика Cron](https://1cloud.ru/help/linux/kak-nastroit-planirovshchik-cron-na-crontab-linux)
3. [Источник где можно найти все](https://google.com)
